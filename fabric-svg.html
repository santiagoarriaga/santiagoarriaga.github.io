<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Test Fabric</title>

    <script src="fabric4.js"></script>
    <style>
      svg { display:none; }
    </style>
  </head>
  <body>
    <div id="all">
      <h1>Test Fabric SVG</h1>

      <canvas id="c" width="500px" height="300px"></canvas>
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
      	 width="57.08px" height="74.223px" viewBox="0 0 57.08 74.223" enable-background="new 0 0 57.08 74.223" xml:space="preserve">
        <path d="M0,0l27.281,38.375L55.063,1.5L0,0z M15.156,8.063l26.281,1.531L27.281,26.25L15.156,8.063z"/>
        <path d="M14.653,8.058L27.28,25.23l2.021,1.01L40.917,8.563L14.653,8.058z"/>
        <path d="M6.572,43.413l0.505,7.576l50.003,0.505l-0.505-7.071L6.572,43.413z"/>
        <path d="M7.077,54.02l0.505,7.576l49.498,1.01l-0.505-7.071L7.077,54.02z"/>
        <path d="M7.582,65.131l0.505,8.586l48.993,0.505v-6.566L7.582,65.131z"/>
      </svg>

      <script>
        var svgEl = document.body.getElementsByTagName('svg')[0];
        var serializer = new XMLSerializer();
        var svgStr = serializer.serializeToString(svgEl);

        var canvas = new fabric.Canvas('c');
        canvas.backgroundColor = 'rgb(150,150,150)';
        var path = fabric.loadSVGFromString(svgStr,function(objects, options) {
          var obj = fabric.util.groupSVGElements(objects, options);
          obj.scaleToHeight(canvas.height-10)
            .set({ left: canvas.width/2, top: canvas.height/2 })
            .setCoords();

          canvas.add(obj).renderAll();
        });
      </script>
  </body>
</html>

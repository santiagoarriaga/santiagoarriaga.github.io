<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Videos</title>
  </head>
  <body>
    <div id="all">
      <h1>Videos 4</h1>

      <video id="video0" width="320" height="240" style="display: block">
      </video>
      <video id="video1" width="320" height="240" style="display: none">
      </video>
      <video id="video2" width="320" height="240" style="display: none">
      </video>
    </div>
  </body>
  <script>
    var index = 0
    const base = 'https://storage.googleapis.com/risemedialibrary-7fa5ee92-7deb-450b-a8d5-e5ed648c575f'
    var files =
    [
      `${base}/smallfoot.mp4`,
      `${base}/smallburn.mp4`,
      `${base}/santiago/final_5eb6f588df5e8f001536b29b_545971.mp4`
    ]

    const videos =
    [
      document.getElementById('video0'),
      document.getElementById('video1'),
      document.getElementById('video2'),
    ]

    const sources = videos.map((video, i) =>
    {
      const source = document.createElement('source')

      source.setAttribute('type', 'video/mp4')
      source.setAttribute('src', files[i])

      video.appendChild(source)
      return source
    })

    setInterval(() => {
      videos[index].pause()
      videos[index].style.display = 'none'

      index = ( index + 1 ) % 3
      console.log(`Running video ${index}`)

      videos[index].style.display = 'block'
      videos[index].play()
    }, 1000)
  </script>
</html>
